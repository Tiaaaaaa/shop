/*! For license information please see StormDB.min.js.LICENSE.txt */
var StormDB;(()=>{var t={634:t=>{t.exports=class{constructor(t){this.engine=t,this.state=this.engine.init(),this.pointers=[]}default(t){return 0===Object.keys(this.state).length&&this.state.constructor===Object&&(this.state=t),this}length(){return this.pointers.push("length"),this}delete(t=!1){let e=this.state;for(let t=0;t<this.pointers.length-1;t++)e=e[this.pointers[t]];let r=this.pointers[this.pointers.length-1];Array.isArray(e)&&t?e.splice(r,1):delete e[r]}push(t){let e=this.value();if(!Array.isArray(e))throw new Error("You can only push to lists.");return e.push(t),this.set(e),this}map(t){let e=this.value();if("function"!=typeof t)throw new Error("You can only pass functions to .map().");if(!Array.isArray(e))throw new Error("You can only map lists.");return e=e.map(t),this.set(e),this}filter(t){let e=this.value();if("function"!=typeof t)throw new Error("You can only pass functions to .filter().");if(!Array.isArray(e))throw new Error("You can only filter lists.");return e=e.filter(t),this.set(e),this}sort(t){let e=this.value();if("function"!=typeof t&&void 0!==t)throw new Error("You can only pass functions or nothing to .sort().");if(!Array.isArray(e))throw new Error("You can only sort lists.");return e.sort(t),this.set(e),this}reduce(t){let e=this.value();if("function"!=typeof t)throw new Error("You can only pass functions to .reduce().");if(!Array.isArray(e))throw new Error("You can only reduce lists.");let r=e.reduce(t);return this.set(r),this}get(t,e=!0){let r;r="string"==typeof t&&e?t.split("."):[t];let s=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return s.pointers=[...s.pointers,...r],s}set(t,e,r=!0){if(void 0===e)this.setValue(t);else{let s;s="string"==typeof t&&r?t.split("."):[t],this.setValue(e,s)}return this}value(){let t=this.state;for(let e=0;e<this.pointers.length;e++){if(e<this.pointers.length-1&&!t[this.pointers[e]])throw new Error("Can't run .value() on non-existant property of non-existant object.");t=t[this.pointers[e]]}return t}setValue(t,e=[],r=!0){let s=0;(e=[...this.pointers,...e]).reduce(((i,n)=>{s+=1;let o=s===e.length;return r&&void 0===i[n]&&!o?(i[n]={},i[n]):o?(i[n]=t,t):i[n]}),this.state)}save(){return this.engine.write(this.state)}}}},e={},r=function r(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,r),n.exports}(634);StormDB=r})();